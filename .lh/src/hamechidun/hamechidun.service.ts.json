{
    "sourceFile": "src/hamechidun/hamechidun.service.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 31,
            "patches": [
                {
                    "date": 1704529532439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1704529543844,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,9 @@\n       },\n     });\n   }\n \n-  async get_topSellingProducts(): Promise<TopSellingProduct[]> {\n+  async get_populate_orders_products_categories_info(): Promise<TopSellingProduct[]> {\n     return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL,NULL);');\n   }\n   \n }\n"
                },
                {
                    "date": 1704529564886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import { Injectable } from '@nestjs/common';\n import { InjectRepository } from '@nestjs/typeorm';\n import { MoreThan, Repository } from 'typeorm';\n import { TopSellingProduct } from './entity/TopSellingProduct'; // Replace with your entity model\n-import { PopulateOrderProductPriceExpensive, PopulateOrdersProductsMost, PopulateOrdersSellersMost, PopulateOrdersSummary } from './entity/entityAll';\n+import { PopulateOrderProductPriceExpensive, PopulateOrdersProductsMost, PopulateOrdersSellersMost, PopulateOrdersSummary, populateOrdersProductsCategoriesInfo } from './entity/entityAll';\n \n \n \n @Injectable()\n@@ -57,9 +57,9 @@\n       },\n     });\n   }\n \n-  async get_populate_orders_products_categories_info(): Promise<TopSellingProduct[]> {\n+  async get_populate_orders_products_categories_info(): Promise<populateOrdersProductsCategoriesInfo[]> {\n     return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL,NULL);');\n   }\n   \n }\n"
                },
                {
                    "date": 1704529709687,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,11 @@\n       },\n     });\n   }\n \n-  async get_populate_orders_products_categories_info(): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL,NULL);');\n+\n+  async get_populate_orders_products_categories_info(): Promise<PopulateOrdersProductsCategoriesInfo[]> {\n+    return await this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL, \"فرآورده‌های منجمد و یخچالی\")');\n   }\n   \n+  \n }\n"
                },
                {
                    "date": 1704529739585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n     });\n   }\n \n \n-  async get_populate_orders_products_categories_info(): Promise<PopulateOrdersProductsCategoriesInfo[]> {\n+  async get_populate_orders_products_categories_info(): Promise<populateOrdersProductsCategoriesInfo[]> {\n     return await this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL, \"فرآورده‌های منجمد و یخچالی\")');\n   }\n   \n   \n"
                },
                {
                    "date": 1704530011609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,9 +59,10 @@\n   }\n \n \n   async get_populate_orders_products_categories_info(): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    return await this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL, \"فرآورده‌های منجمد و یخچالی\")');\n+    return await this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL, N\"فرآورده‌های منجمد و یخچالی\")');\n+\n   }\n   \n   \n }\n"
                },
                {
                    "date": 1704530321505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,12 +57,9 @@\n       },\n     });\n   }\n \n-\n   async get_populate_orders_products_categories_info(): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    return await this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL, N\"فرآورده‌های منجمد و یخچالی\")');\n-\n+    return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL,NULL);');\n   }\n   \n-  \n }\n"
                },
                {
                    "date": 1704530585878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,9 @@\n       },\n     });\n   }\n \n-  async get_populate_orders_products_categories_info(): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL,NULL);');\n+  async get_populate_orders_products_categories_info(itemCategory2: string | null, itemCategory3: string | null): Promise<populateOrdersProductsCategoriesInfo[]> {\n+    return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(?, ?)', [itemCategory2, itemCategory3]);\n   }\n   \n }\n"
                },
                {
                    "date": 1704530734506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,15 @@\n       },\n     });\n   }\n \n-  async get_populate_orders_products_categories_info(itemCategory2: string | null, itemCategory3: string | null): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(?, ?)', [itemCategory2, itemCategory3]);\n+  async get_populate_orders_products_categories_info(\n+    item_category2: string,\n+    item_category3: string\n+  ): Promise<populateOrdersProductsCategoriesInfo[]> {\n+    return this.topSellingProductRepository.query(\n+      'CALL populate_orders_products_categories_info(?,?);',\n+      [item_category2, item_category3]\n+    );\n   }\n   \n }\n"
                },
                {
                    "date": 1704531067304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,10 +58,9 @@\n     });\n   }\n \n   async get_populate_orders_products_categories_info(\n-    item_category2: string,\n-    item_category3: string\n+    item_category2: string | null, item_category3: string | null\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',\n       [item_category2, item_category3]\n"
                },
                {
                    "date": 1704533403563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n \n \n-import { Injectable } from '@nestjs/common';\n+import { Injectable, Logger } from '@nestjs/common';\n import { InjectRepository } from '@nestjs/typeorm';\n import { MoreThan, Repository } from 'typeorm';\n import { TopSellingProduct } from './entity/TopSellingProduct'; // Replace with your entity model\n import { PopulateOrderProductPriceExpensive, PopulateOrdersProductsMost, PopulateOrdersSellersMost, PopulateOrdersSummary, populateOrdersProductsCategoriesInfo } from './entity/entityAll';\n@@ -22,8 +22,10 @@\n     @InjectRepository(PopulateOrderProductPriceExpensive)\n     private populateOrderProductPriceExpensive: Repository<PopulateOrderProductPriceExpensive>, \n   ) {}\n \n+  private readonly logger = new Logger(HamechidunService.name);\n+\n   async get_topSellingProducts(): Promise<TopSellingProduct[]> {\n     return this.topSellingProductRepository.query('CALL GetTopSellingProducts()');\n   }\n \n@@ -60,11 +62,12 @@\n \n   async get_populate_orders_products_categories_info(\n     item_category2: string | null, item_category3: string | null\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n+    this.logger.log(' item_category2 is: ' + item_category2 +'3 is: '+item_category3);\n+    \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',\n-      [item_category2, item_category3]\n+      'CALL populate_orders_products_categories_info(?,?);',['NULL', 'NULL']\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704533500694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,11 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log(' item_category2 is: ' + item_category2 +'3 is: '+item_category3);\n     \n     return this.topSellingProductRepository.query(\n+      'CALL populate_orders_products_categories_info(NULL,NULL);'\n+    );\n+       return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',['NULL', 'NULL']\n     );\n   }\n   \n"
                },
                {
                    "date": 1704541249274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,12 +65,9 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log(' item_category2 is: ' + item_category2 +'3 is: '+item_category3);\n     \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(NULL,NULL);'\n+      'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n     );\n-       return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',['NULL', 'NULL']\n-    );\n   }\n   \n }\n"
                },
                {
                    "date": 1704541806587,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,9 @@\n \n   async get_populate_orders_products_categories_info(\n     item_category2: string | null, item_category3: string | null\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    this.logger.log(' item_category2 is: ' + item_category2 +'3 is: '+item_category3);\n+    this.logger.log('SERVICE item_category2 is: ' + item_category2 +'item_category3 is: '+item_category3);\n     \n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n     );\n"
                },
                {
                    "date": 1704542198067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,9 @@\n \n   async get_populate_orders_products_categories_info(\n     item_category2: string | null, item_category3: string | null\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    this.logger.log('SERVICE item_category2 is: ' + item_category2 +'item_category3 is: '+item_category3);\n+    this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n     \n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n     );\n"
                },
                {
                    "date": 1704543311847,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,10 +64,18 @@\n     item_category2: string | null, item_category3: string | null\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n     \n-    return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n-    );\n+\n+    return  this.topSellingProductRepository.query(\"CALL populate_orders_products_categories_info(:param1, :param2)\", {\n+        param1: \"NULL\",\n+        param2: \"NULL\"\n+    });\n+   \n+\n+\n+    // return this.topSellingProductRepository.query(\n+    //   'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n+    // );\n   }\n   \n }\n"
                },
                {
                    "date": 1704543470281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,17 +65,17 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n     \n \n-    return  this.topSellingProductRepository.query(\"CALL populate_orders_products_categories_info(:param1, :param2)\", {\n-        param1: \"NULL\",\n-        param2: \"NULL\"\n-    });\n+    // return  this.topSellingProductRepository.query(\"CALL populate_orders_products_categories_info(:param1, :param2)\", {\n+    //     param1: \"NULL\",\n+    //     param2: \"NULL\"\n+    // });\n    \n \n \n-    // return this.topSellingProductRepository.query(\n-    //   'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n-    // );\n+    return this.topSellingProductRepository.query(\n+      'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n+    );\n   }\n   \n }\n"
                },
                {
                    "date": 1704543621586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,17 +63,9 @@\n   async get_populate_orders_products_categories_info(\n     item_category2: string | null, item_category3: string | null\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n-    \n \n-    // return  this.topSellingProductRepository.query(\"CALL populate_orders_products_categories_info(:param1, :param2)\", {\n-    //     param1: \"NULL\",\n-    //     param2: \"NULL\"\n-    // });\n-   \n-\n-\n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n     );\n   }\n"
                },
                {
                    "date": 1704601493528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[item_category2, item_category3]\n+      'CALL populate_orders_products_categories_info(?,?);',[null, null]\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704601537381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[null, null]\n+      'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704609098776,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n+      'CALL populate_orders_products_categories_info(?,?);',[null, null]\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704609146670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[null, null]\n+      'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704609696951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,10 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n \n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n+     // 'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n+     'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704610042538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,10 +65,10 @@\n   ): Promise<populateOrdersProductsCategoriesInfo[]> {\n     this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n \n     return this.topSellingProductRepository.query(\n-     // 'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n-     'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n+    'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n+    // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n     );\n   }\n   \n }\n"
                },
                {
                    "date": 1704617928481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,6 +69,12 @@\n     'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n     // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n     );\n   }\n+  async populateOrdersProductsCategoriesInfo2(itemCategory2: string | null, itemCategory3: string | null) {\n+    return this.topSellingProductRepository.query(\n+      'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n+      // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n+      );\n+  }\n   \n }\n"
                },
                {
                    "date": 1704617938604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,9 +69,9 @@\n     'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n     // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n     );\n   }\n-  async populateOrdersProductsCategoriesInfo2(itemCategory2: string | null, itemCategory3: string | null) {\n+  async get_populate_orders_products_categories_info2(itemCategory2: string | null, itemCategory3: string | null) {\n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n       // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n       );\n"
                },
                {
                    "date": 1704618178922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,6 +75,12 @@\n       'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n       // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n       );\n   }\n+  async get_populate_orders_products_categories_info3(itemCategory2: string | null, itemCategory3: string | null) {\n+    return this.topSellingProductRepository.query(\n+      'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n+      // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n+      );\n+  }\n   \n }\n"
                },
                {
                    "date": 1704618253138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,12 +75,14 @@\n       'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n       // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n       );\n   }\n-  async get_populate_orders_products_categories_info3(itemCategory2: string | null, itemCategory3: string | null) {\n+ \n+  async get_populate_orders_products_categories_info3( itemCategory2: string,itemCategory3: string ) {\n+    // execute the procedure call using the query method\n     return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n-      // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n-      );\n+      'CALL populate_orders_products_categories_info(?,?);',\n+      [itemCategory2, itemCategory3],\n+    );\n   }\n   \n }\n"
                },
                {
                    "date": 1704619711330,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,9 +77,9 @@\n       );\n   }\n  \n   async get_populate_orders_products_categories_info3( itemCategory2: string,itemCategory3: string ) {\n-    // execute the procedure call using the query method\n+    this.logger.log('SERVICE SERVICE: ' + itemCategory2 +' ,item_category3 is: '+itemCategory3);\n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',\n       [itemCategory2, itemCategory3],\n     );\n"
                },
                {
                    "date": 1704621326269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,14 +69,8 @@\n     'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n     // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n     );\n   }\n-  async get_populate_orders_products_categories_info2(itemCategory2: string | null, itemCategory3: string | null) {\n-    return this.topSellingProductRepository.query(\n-      'CALL populate_orders_products_categories_info(?,?);',[itemCategory2, itemCategory3]\n-      // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n-      );\n-  }\n  \n   async get_populate_orders_products_categories_info3( itemCategory2: string,itemCategory3: string ) {\n     this.logger.log('SERVICE SERVICE: ' + itemCategory2 +' ,item_category3 is: '+itemCategory3);\n     return this.topSellingProductRepository.query(\n"
                },
                {
                    "date": 1704621333823,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,20 +59,9 @@\n       },\n     });\n   }\n \n-  async get_populate_orders_products_categories_info(\n-    item_category2: string | null, item_category3: string | null\n-  ): Promise<populateOrdersProductsCategoriesInfo[]> {\n-    this.logger.log('SERVICE item_category2 is: ' + item_category2 +' ,item_category3 is: '+item_category3);\n-\n-    return this.topSellingProductRepository.query(\n-    'CALL populate_orders_products_categories_info(?,?);',[null, 'تنقلات']\n-    // 'CALL populate_orders_products_categories_info(?,JSON_QUOTE(?));',[null, 'تنقلات']\n-    );\n-  }\n- \n-  async get_populate_orders_products_categories_info3( itemCategory2: string,itemCategory3: string ) {\n+  async get_populate_orders_products_categories_info( itemCategory2: string,itemCategory3: string ) {\n     this.logger.log('SERVICE SERVICE: ' + itemCategory2 +' ,item_category3 is: '+itemCategory3);\n     return this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',\n       [itemCategory2, itemCategory3],\n"
                },
                {
                    "date": 1704621410837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,11 +61,12 @@\n   }\n \n   async get_populate_orders_products_categories_info( itemCategory2: string,itemCategory3: string ) {\n     this.logger.log('SERVICE SERVICE: ' + itemCategory2 +' ,item_category3 is: '+itemCategory3);\n-    return this.topSellingProductRepository.query(\n+    const [result] = await  this.topSellingProductRepository.query(\n       'CALL populate_orders_products_categories_info(?,?);',\n       [itemCategory2, itemCategory3],\n     );\n+    return result;\n   }\n   \n }\n"
                }
            ],
            "date": 1704529532439,
            "name": "Commit-0",
            "content": "\n\nimport { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { MoreThan, Repository } from 'typeorm';\nimport { TopSellingProduct } from './entity/TopSellingProduct'; // Replace with your entity model\nimport { PopulateOrderProductPriceExpensive, PopulateOrdersProductsMost, PopulateOrdersSellersMost, PopulateOrdersSummary } from './entity/entityAll';\n\n\n\n@Injectable()\nexport class HamechidunService {\n  constructor(\n    @InjectRepository(TopSellingProduct)\n    private readonly topSellingProductRepository: Repository<TopSellingProduct>,\n    @InjectRepository(PopulateOrdersSummary)\n    private populateOrdersSummary: Repository<PopulateOrdersSummary>, \n    @InjectRepository(PopulateOrdersSellersMost)\n    private populateOrdersSellersMost: Repository<PopulateOrdersSellersMost>,\n    @InjectRepository(PopulateOrdersProductsMost)\n    private populateOrdersProductsMost: Repository<PopulateOrdersProductsMost>,\n    @InjectRepository(PopulateOrderProductPriceExpensive)\n    private populateOrderProductPriceExpensive: Repository<PopulateOrderProductPriceExpensive>, \n  ) {}\n\n  async get_topSellingProducts(): Promise<TopSellingProduct[]> {\n    return this.topSellingProductRepository.query('CALL GetTopSellingProducts()');\n  }\n\n  async get_populate_orders_summery(): Promise<PopulateOrdersSummary> {\n    return await this.populateOrdersSummary.findOne({\n      where: { // specify the condition\n        orders_count:MoreThan(0),\n      },\n    });\n  }  \n\n  async get_populate_orders_products_most(): Promise<PopulateOrdersProductsMost[]> {\n    return await this.populateOrdersProductsMost.find({\n      order: {\n        product_count: \"DESC\",\n      },\n    });\n  }\n  \n  async get_populate_orders_sellers_most(): Promise<PopulateOrdersSellersMost[]> {\n    return await this.populateOrdersSellersMost.find({\n      order: {\n        repetition_count: \"DESC\",\n      },\n    });\n  }  \n  async get_populate_order_product_price_expensive(): Promise<PopulateOrderProductPriceExpensive[]> {\n    return await this.populateOrderProductPriceExpensive.find({\n      order: {\n        selling_price: \"DESC\",\n      },\n    });\n  }\n\n  async get_topSellingProducts(): Promise<TopSellingProduct[]> {\n    return this.topSellingProductRepository.query('CALL populate_orders_products_categories_info(NULL,NULL);');\n  }\n  \n}\n"
        }
    ]
}